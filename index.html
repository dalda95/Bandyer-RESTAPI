<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="images/favicon.png" />
    <title>BandyerÂ®</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript">NodeJS</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Powered by Bandyer</li>
            <li>v1.26</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The Bandyer API are organized around REST. Our API has predictable, resource-oriented URLs, and use HTTP response codes to indicate API errors. We use built-in HTTP features, like HTTP authentication and HTTP verbs, which are understood by off-the-shelf HTTP clients. We support cross-origin resource sharing,
allowing you to interact securely with our API from a client-side web application (though you should never expose your secret API key in any public website&rsquo;s client-side code)</p>

<p>JSON is returned by all API responses, including errors.</p>

          <h1 id="authentication">Authentication</h1>

<p>Authenticate your account when using the API by including your secret <strong>API key</strong> in the request. Your API keys carry many privileges, so be sure to keep them secret! Do not share your secret API keys in publicly accessible areas such as GitHub, client-side code, and so forth.</p>

<p>The API key must be in the header of every request otherwise the request will fail.</p>

<p>All API requests must be made over HTTPS. Calls made over plain HTTP will fail. API requests without authentication will also fail.</p>

<p>If you need help feel free to contact us: <a href="mailto:support@bandyer.com">support@bandyer.com</a></p>

          <h1 id="company">Company</h1>

<h2 id="update-company">Update company</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/company/update"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
            "name" : "Test Company",
            "default_language" : "it",
        }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Company"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"default_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"it"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update name and/or the default language of the company related to the given api_key;</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/company/update</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Name of the company to create, allowed chars are alphanumeric and #&amp;@&rsquo;.,?!</td>
</tr>
<tr>
<td>default_language</td>
<td style="text-align: center">String</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Default language of the company and users created. Available options are &ldquo;en&rdquo; or &ldquo;it&rdquo;.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>update_company_error</td>
<td>Unable to update, please retry.</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid.</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>company_not_found</td>
<td>Company not found</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>invalid_company_name</td>
<td>Invalid comapny name. Allowed chars are alphanumeric and #&amp;@&rsquo;.,?!</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>invalid_language</td>
<td>Invalid language. The allowed languages are <code class="prettyprint">it</code>, <code class="prettyprint">en</code>&rsquo;</td>
</tr>
</tbody></table>

<h2 id="update-company-logo">Update company logo</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/company/logo/update"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: multipart/form-data"</span> <span class="se">\</span>
     -F <span class="s2">"logo=@/YOUR_LOCAL_IMAGE_PATH/image_name.png;type=image/png"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"logo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.bandyer.com/corporate/logos/logo_company_name.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update the company logo.</p>

<p>The image provided must have a minimum size of 200x200, the recommended size is 300x300, otherwise, Bandyer will automatically resize the image for you.
The max size allowed is 500Kb per file.
The request will return the company logo image URL.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/company/logo/update</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters-form-data">Body Parameters (form-data)</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logo</td>
<td style="text-align: center">File</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The company logo image. The mime-type must be <code class="prettyprint">image/png</code> or <code class="prettyprint">image/jpeg</code>. Max file size is 500Kb. Suggested dimensions are 300*300 pixels.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>upload_error</td>
<td>Unable to upload your file, please retry</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>file_not_found</td>
<td>The file provided must be a multipart file</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid.</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>company_not_found</td>
<td>Company not found</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>invalid_file</td>
<td>Check the &lsquo;logo&rsquo; param and the file validity (allowed extensions are png and jpg).</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>wrong_file_dimension</td>
<td>Wrong dimensions, the file must be at least 200 x 200</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>error_processing_image</td>
<td>Error while processing the image, check the logo and retry</td>
</tr>
</tbody></table>

          <h1 id="user">User</h1>

<h2 id="create-user">Create User</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/user/create"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
         "id" : "user_xxx",
         "role" : "basic",
         "can_video": "1"
         "language": "it"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"role"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"basic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"it"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jhon.doe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a user in Bandyer. Users are identified by a unique ID which can be customized specifying it as input or it will be generated randomly.
Each user must have a role. Valid roles are:</p>

<table><thead>
<tr>
<th>Role</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>basic</strong></td>
<td>Allow the user to join rooms</td>
</tr>
<tr>
<td><strong>plus</strong></td>
<td>Allow the user to create and join rooms</td>
</tr>
</tbody></table>

<p><strong>Note:</strong> A basic user can create a room only if one of the participants have a plus role</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/user/create</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">random_str</td>
<td>Custom user id, useful to avoid the Bandyer/Customer users mapping.<br>If specified, it must be unique within your account.<br>The custom id can be composed by alphanumeric characters [a-zA-Z] and . _ - symbols.<br>If the param is not specified, Bandyer will generate a random ID automatically (Max 128 characters).</td>
</tr>
<tr>
<td>role</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Roles of the user.<br>Available options are <strong>&ldquo;basic&rdquo;</strong> or <strong>&ldquo;plus&rdquo;</strong></td>
</tr>
<tr>
<td>can_video</td>
<td style="text-align: center">no</td>
<td style="text-align: center">1</td>
<td>The user&rsquo;s video publishing permission.</td>
</tr>
<tr>
<td>language</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Company default language</td>
<td>Language of the user. <br>Available options are <strong>&ldquo;en&rdquo;</strong> or <strong>&ldquo;it&rdquo;</strong>.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>user_id_already_exists</td>
<td>The specified user_id already exists in this company</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>role_validation_error</td>
<td>Invalid role, available options are basic or plus</td>
</tr>
</tbody></table>

<h3 id="deprecated-parameters-deprecation-date-22-01-20">Deprecated parameters &mdash; Deprecation date: 22/01/20</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Firstname of the user (Max 32 characters).</td>
</tr>
<tr>
<td>lastname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Lastname of the user (Max 32 characters).</td>
</tr>
<tr>
<td>nickname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Will be displayed in the system. If not specified, the system will assign a random nickname (Max 16 characters).</td>
</tr>
<tr>
<td>email</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Email of the user.</td>
</tr>
</tbody></table>

<h3 id="deprecated-error">Deprecated Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>422</td>
<td>validation_error</td>
<td>email_validation_error</td>
<td>Email invalid format</td>
</tr>
</tbody></table>

<h2 id="update-user">Update user</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://sandbox.bandyer.com/rest/user/update/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
          "can_video": "1"
          "language": "it"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_5b63a42e7ec2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"it"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates a user by setting the values of the parameters passed as input. Not specified parameters will be left unchanged.</p>

<p><strong>Note:</strong> The id and the role cannot be updated.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://sandbox.bandyer.com/rest/user/update/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to update</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>can_video</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;1&rdquo;</td>
<td>The user&rsquo; video publishing permission.</td>
</tr>
<tr>
<td>language</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;en&rdquo;</td>
<td>Language of the user. Available options are &ldquo;en&rdquo; or &ldquo;it&rdquo;.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>The specified user_id not exists in this company</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>role_validation_error</td>
<td>Invalid role, available options are basic or plus</td>
</tr>
</tbody></table>

<h3 id="deprecated-parameters-deprecation-date-22-01-20">Deprecated parameters &mdash; Deprecation date: 22/01/20</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Firstname of the user (Max 32 characters).</td>
</tr>
<tr>
<td>lastname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Lastname of the user (Max 32 characters).</td>
</tr>
<tr>
<td>nickname</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Will be displayed in the system.</td>
</tr>
<tr>
<td>email</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Email of the user.</td>
</tr>
</tbody></table>

<h3 id="deprecated-error">Deprecated Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>422</td>
<td>validation_error</td>
<td>email_validation_error</td>
<td>Email invalid format</td>
</tr>
</tbody></table>

<h2 id="update-all-users-permissions">Update all users permissions</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://sandbox.bandyer.com/rest/user/update/all/permissions"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
          "can_video" : "1"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">241</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_video"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates video permission to all users of a company.</p>

<p>The request must contain the can_video permission parameter.
The request will response with the number of user updated with the value of permissions updated.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://sandbox.bandyer.com/rest/user/update/all/permissions</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>can_video</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;1&rdquo;</td>
<td>The user&rsquo; video publishing permission.</td>
</tr>
</tbody></table>

<h2 id="update-user-avatar">Update user avatar</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://sandbox.bandyer.com/rest/user/avatar/update/:user_id"</span> <span class="se">\</span>
  -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: multipart/form-data"</span> <span class="se">\</span>
  -F <span class="s2">"avatar=@/YOUR_LOCAL_IMAGE_PATH/image_name.png;type=image/png"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.bandyer.com/corporate/sample_avatar/custom/cmpny_tnc948cnr798ds/usr_5b63a42e7ec2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates a user avatar image uploaded as param in the post request.</p>

<p>The request must contain the id of the user to update an image to, as the avatar param.
The provided image should have the 300*300 pixel size, otherwise, Bandyer will automatically resize the image for you.
The max size permitted to upload is 500Kb per file.
The request will return the user avatar image URL.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://sandbox.bandyer.com/rest/user/avatar/update/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
<tr>
<td>content-type</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">multipart/form-data</td>
<td>Must be this value only</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to update</td>
</tr>
</tbody></table>

<h3 id="body-parameters-form-data">Body Parameters (form-data)</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>avatar</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">no default</td>
<td>The user avatar image. The mime-type must be <code class="prettyprint">image/png</code> or <code class="prettyprint">image/jpeg</code>. Max file size is 500Kb. Suggested dimensions are 300*300 pixels.</td>
</tr>
</tbody></table>

<h2 id="delete-user">Delete user</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://sandbox.bandyer.com/rest/user/delete/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_55608a20053f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>By specifying the id of the user is possible to delete a user from the platform. The response will contain a confirmation message.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://sandbox.bandyer.com/rest/user/delete/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to delete</td>
</tr>
</tbody></table>

<h2 id="retrieve-user">Retrieve user</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/list/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_5b63a42e7ec2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"role"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"basic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_video"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"it"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details of the user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/list/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to retrieve</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>The specified user_id not exists in this company</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="get-users-list">Get users list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"user_id_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"usr_5b63a42e7ec2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"usr_e3bf12fd6827"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list of user ids. If there are no users, the list will be empty.
The response will be an array of user ids.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h2 id="get-user-rooms-list">Get user rooms list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/room/list/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "filter" : [{ "limit": X, "skip" : Y }]
      }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"room_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_e3bf12fd6827"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get rooms created by a specific user or those he attended.
If the user does not exist or has no rooms the returned list will be empty.</p>

<p>The response has a [room_list] key containing an array of rooms in which is specified the [room_id] and the [creation_date] and an optional parameters [disabled]</p>

<p>This REST endpoint has a filter parameter with two possible keys (filter[limit] and filter[skip]).
This two filter can be used to retrieve a specific number of rooms(filter[limit]) or for example to paginate the results through the use of the skip filter (filter[skip])</p>

<p><strong>Note:</strong> All date fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/room/list/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to retrieve room IDs.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter[limit]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The limit number of array elements as response.</td>
</tr>
<tr>
<td>filter[skip]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The number of skipped elements.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td>Room name</td>
</tr>
<tr>
<td>creation_date</td>
<td>creation date of the room (ISO8601 time)</td>
</tr>
<tr>
<td>disabled</td>
<td>Optional, if it is present the value is true and the room is <a href="#disable-room">disabled</a>. When a room is disabled all the links are inactive</td>
</tr>
</tbody></table>

<h2 id="get-user-broadcasts-list">Get user broadcasts list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/broadcast/list/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "filter" : [{ "limit": X, "skip" : Y }]
      }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"broadcast_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"broadcast_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_e3bf12fd6827"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get broadcasts created by a specific user or those he attended.
If the user does not exist or has no broadcasts the returned list will be empty.</p>

<p>The response has a [broadcast_list] key containing an array of rooms in which is specified the [broadcast_id] and the [creation_date]</p>

<p>This REST endpoint has a filter parameter with two possible keys (filter[limit] and filter[skip]).
This two filter can be used to retrieve a specific number of broadcasts(filter[limit]) or for example to paginate the results through the use of the skip filter (filter[skip])</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/broadcast/list/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to retrieve broadcast IDs.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter[limit]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The limit number of array elements as response.</td>
</tr>
<tr>
<td>filter[skip]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The number of skipped elements.</td>
</tr>
</tbody></table>

<h2 id="get-user-chats-list">Get user chats list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and user_id with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/:user_id/chat/list"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"chat_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="s2">"usr_yyy"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"unread_messages_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-15T11:57:43.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="s2">"user_zzz"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"unread_messages_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the list of the chats of the user.
Each element of the chat_list array contains information about the chat such as, the unread message count and the last message sent.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/:user_id/chat/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to retrieve the chat list.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_users_length</td>
<td>Users array must contain at least two valid users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_service_disabled</td>
<td>The chat service is not enabled for your company</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>User id not found</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_chat</td>
<td>Unable to retrieve chat information such as members</td>
</tr>
</tbody></table>

<h2 id="get-user-uploads-list">Get user uploads list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and user_id with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/user/:user_id/upload/list"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "upload_type" : "snapshot"
        "skip" : X,
        "limit" : Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uploads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/comapny/user_id/1585071715613-c8a493a0217fcbd69c7f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:41:56.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_id"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_a1n5bk022jg9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/comapny/user_id/1585070036835-7eccda27957cf7b27d5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:13:57.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_id"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_a1n5bk022jg9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list uploaded resources for the given user with additional information including the key of
the resource to collect it using the dedicated <a href="/#get-upload-resource">Get upload resource</a> api.
If no uploads are present an empty list will be returned.</p>

<p>It is possible to filter the returned list specifying <code class="prettyprint">upload_type</code>, <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> filter values.</p>

<p>The response will be an object containing the following information:</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/:user_id/upload/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The id of the user to retrieve the chat list.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The upload_type can be one of <code class="prettyprint">file_upload</code>, <code class="prettyprint">generic</code> and <code class="prettyprint">snapshot</code></td>
</tr>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in uploads array</td>
</tr>
<tr>
<td>uploads</td>
<td>Array</td>
<td>Array of uploaded resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<aside class="notice"> The room_id field in the upload Object can be null if the room was not created from the REST-API</aside>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>User not found</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="get-user-sessions-list">Get user sessions list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/:user_id/session/list"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
     -d <span class="s1">'{
        "skip": X
        "limit": Y,
        "start_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
        "end_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_46365c12bc1c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-08T15:14:16.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"connected_participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_yyy"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_7f60e61bd24e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_919e35d58c29"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-07T08:33:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"connected_participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_zzz"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_7f60e96lk24e"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get basic information of all the sessions of the given user.</p>

<p>The results are ordered by creation_date and can be filtered by <code class="prettyprint">skip</code>, <code class="prettyprint">limit</code>, <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>,</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/user/:user_id/session/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The id of the user to retrieve the session list.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
<tr>
<td>start_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date greater then start_date</td>
</tr>
<tr>
<td>end_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date lower then end_date</td>
</tr>
</tbody></table>

<aside class="notice"> If both start_date and end_date are specified we return a list of objects where the creation_date is between start_date and end_date</aside>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in sessions array</td>
</tr>
<tr>
<td>sessions</td>
<td>Array</td>
<td>Array of sessions resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<h4 id="sessions-object">Sessions Object</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td>Id of the session.</td>
</tr>
<tr>
<td>creation_date</td>
<td style="text-align: center"></td>
<td>String</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">Number</td>
<td>Elapsed time of the session, if 0 the session timing was not elaborated yet.</td>
</tr>
<tr>
<td>connected_participants</td>
<td style="text-align: center">Array of String</td>
<td>List of users who actually participated in the call (Can be differ from the users invited to the call).</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td>Id of the Room that have generated this session.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>Invalid user, please check if the user exists</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="room">Room</h1>

<p>In this section, it is explained how to create a room in the Bandyer platform.</p>

<p>A room is a sort of virtual place where users, identified at room creation time, can communicate.</p>

<p><strong>Note:</strong>
With a room you can set a maximum call duration, recording option, direct call link and listening to webhook events described in <a href="#webhook">Web Hooks</a> section.</p>

<p>A room can be created only if one of the users have a plus role.
Refer to the users section for more info</p>

<h2 id="create-room">Create room</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/room/create"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
     -d <span class="s1">'{
         "participants": [{"user_id": "usr_xxx", "tools": {"chat":true}, "is_admin": true }, {"user_id": "usr_yyy"}],
         "record": "1",
         "duration": "120",
         "description": "A textual description of the rest room created",
         "initiatorAlias": "usr_xxx"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_xyz"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
        </span><span class="nt">"directCall"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A textual description of the rest room created..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.bandyer.com/attach/rest-call-handler/aaaaaaaaaa"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"screen_sharing"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"whiteboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"file_upload"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"live_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"live_pointer"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                </span><span class="nt">"is_admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.bandyer.com/attach/rest-call-handler/bbbbbbbbbb"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"screen_sharing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"whiteboard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"wb_pen"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"wb_eraser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"wb_add_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"wb_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"wb_shape"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"wb_cursor"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"file_upload"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"live_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"live_pointer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                </span><span class="nt">"is_admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The duration parameter indicates the maximum duration of the call. It is expressed in seconds. If the parameter is not specified,
the call has <strong>unlimited</strong> duration. The <strong>minimum duration</strong> is 60 minutes.</p>

<p>The directCall parameter indicates the type of link provided by the endpoint. If directCall is true, the user will have direct
access to the call. The user will not see the Bandyer landing page with information about invited users and call options. Default is false.</p>

<p>The response returns the URLs that each user can use to join the call.</p>

<p><strong>Note:</strong> Within the sandbox server, calls won&rsquo;t be registered even if indicated in the REST parameters.
If you would like to try the recording option in sandbox, please contact us at  <a href="mailto:support@bandyer.com">support</a>.</p>

<p><strong>Note:</strong> 30 seconds before the time is up all clients get notifications of the short time left.
When the duration expires the call ends. Available time runs only when clients are in the videocall.
If they are experiencing problems and the connection drops, the timer will stop.</p>

<p><strong>Note:</strong> If you have enabled WebHooks (described in <a href="#webhook">Web Hooks</a> section), the room_id returned in the response, could be saved in your database for further hook events that might be received.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/room/create</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>participants</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>Array of users who will participate in the call. See more in <a href="#participants-parameter">participants section</a></td>
</tr>
<tr>
<td>record</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;0&rdquo;</td>
<td>This param defines whether the room should be recorded &ldquo;1&rdquo; or not &ldquo;0&rdquo;.</td>
</tr>
<tr>
<td>recording_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;automatic&rdquo;</td>
<td>This param defines if the recording must be activated automatically for the whole session or if it must be activated manually. Allowed values are <code class="prettyprint">automatic</code> and <code class="prettyprint">manual</code>. N.B: at the moment this param setting is observed only web components (web links and web widget)</td>
</tr>
<tr>
<td>call_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;audio_video&rdquo;</td>
<td>This param defines type of the call. Allowed values are <code class="prettyprint">audio_only</code>, <code class="prettyprint">audio_upgradable</code> or <code class="prettyprint">audio_video</code>.</td>
</tr>
<tr>
<td>directCall</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Boolean</td>
<td style="text-align: center">false</td>
<td>Setting this param to <code class="prettyprint">true</code> gives direct access to the call bypassing the pre call summary.</td>
</tr>
<tr>
<td>description</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>A textual description of the room.</td>
</tr>
<tr>
<td>live</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Boolean</td>
<td style="text-align: center">false</td>
<td>This param defines whether the usage of generated links triggers widget and mobile ringing or not. If set to <code class="prettyprint">true</code> it also trigger the sending of the <code class="prettyprint">on_call_incoming</code> webhook.</td>
</tr>
<tr>
<td>initiatorAlias</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>Room creator alias (a valid user alias).</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center"></td>
<td>Maximum value expressed in seconds of effective calling time allowed for the room. The minimum value is 60. If not specified, the call duration is unlimited. With effective calling time is intended the sum of the time where the room is running with at least two connected users.</td>
</tr>
</tbody></table>

<h3 id="deprecated-parameters-deprecation-date-07-04-20">Deprecated parameters &mdash; Deprecation date: 07/04/20</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_list_in_call</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>The array of the user alias that will participate to the room.</td>
</tr>
</tbody></table>

<h3 id="participants-parameter">Participants parameter</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"chat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"file_upload"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"screen_sharing"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"whiteboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"live_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"live_pointer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"chat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"whiteboard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"wb_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">"wb_pen"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w">
            </span><span class="nt">"snapshot"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>Id of the user who join the call</td>
</tr>
<tr>
<td>is_admin</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Boolean</td>
<td style="text-align: center">false</td>
<td>Allow the user to trigger some events on the other participants, for example the admin can toggle the whiteboard to the other users.</td>
</tr>
<tr>
<td>tools</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Object</td>
<td style="text-align: center">All enabled</td>
<td>Allows you to enable the available tools during the call. See <a href="#tools">tools section</a> for more details</td>
</tr>
</tbody></table>

<h3 id="tools">Tools</h3>

<p>The tools parameter is included in the participants field.</p>

<p>By default, if no tools are provided (missing field), all the tools are enabled.
If the tools field is defined but empty, all the tools are disabled.</p>

<h4 id="list-of-available-tools">List of available tools</h4>

<table><thead>
<tr>
<th>Name</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>chat</td>
<td style="text-align: center">Enable the chat feature</td>
</tr>
<tr>
<td>screen_sharing</td>
<td style="text-align: center">Enable the screen_sharing feature</td>
</tr>
<tr>
<td>file_upload</td>
<td style="text-align: center">Enable the capability to send file</td>
</tr>
<tr>
<td>whiteboard</td>
<td style="text-align: center">If true enable all the whiteboard tools. Can be an object of <a href="#whiteboard-tools">whiteboard tools</a></td>
</tr>
<tr>
<td>snapshot</td>
<td style="text-align: center">Enable the snapshot feature</td>
</tr>
<tr>
<td>live_edit</td>
<td style="text-align: center">Enable the live_Edit feature</td>
</tr>
<tr>
<td>live_pointer</td>
<td style="text-align: center">Enable to send pointer-events to others participants (always active in reception)</td>
</tr>
</tbody></table>

<aside class='notice'> The whiteboard(WB), snapshot(SN) and live_edit(LE) tools are strictly correlated, so use it accordingly as follow: </aside>

<table><thead>
<tr>
<th>Combination</th>
<th style="text-align: center">Receive live_edit</th>
<th style="text-align: center">Collaborate</th>
<th style="text-align: center">Snapshot &amp; Gallery</th>
<th style="text-align: center">Open whiteboard</th>
</tr>
</thead><tbody>
<tr>
<td>SN+ LE + WB</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td>SN</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td>SN + WB (default LE active in reception)</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td>WB (default LE active in reception)</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td>NONE</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
</tbody></table>

<h4 id="whiteboard-tools">Whiteboard tools</h4>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"whiteboard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"wb_add_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"wb_cursor"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"wb_text"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"wb_shape"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"wb_pen"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"wb_eraser"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The whiteboard tools object is included in the tools parameter of the participants field.</p>

<table><thead>
<tr>
<th>Name</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>wb_add_file</td>
<td style="text-align: center">Allows to add files on the whiteboard</td>
</tr>
<tr>
<td>wb_cursor</td>
<td style="text-align: center">Allows to send the cursor events to the other participants</td>
</tr>
<tr>
<td>wb_text</td>
<td style="text-align: center">Allows to add text on the whiteboard</td>
</tr>
<tr>
<td>wb_shape</td>
<td style="text-align: center">Allows to add shape on the whiteboard</td>
</tr>
<tr>
<td>wb_pen</td>
<td style="text-align: center">Allows to using the pen on the whiteboard</td>
</tr>
<tr>
<td>wb_eraser</td>
<td style="text-align: center">Allows to erase a previous draw on the whiteboard</td>
</tr>
</tbody></table>

<h2 id="get-rooms-list">Get rooms list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/room/list"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
     -d <span class="s1">'{
         "skip": X
         "limit": Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_20201cff4be7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-16T11:56:55.746Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_1106b1c1b106"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-16T09:48:10.340Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get basic information of all the rooms of a company.</p>

<p>The results are ordered by creationDate and can be filtered by <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code>,</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/room/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in rooms array</td>
</tr>
<tr>
<td>rooms</td>
<td>Array</td>
<td>Array of rooms resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<h4 id="rooms-object">Rooms Object</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td>String</td>
<td>The id of the room that you want the information</td>
</tr>
<tr>
<td>record</td>
<td>Boolean</td>
<td>True if the room is recordable</td>
</tr>
<tr>
<td>call_type</td>
<td>String</td>
<td>This is the call type, it can be âaudio_onlyâ, &lsquo;audio_upgradableâ or &#39;audio_videoâ.</td>
</tr>
<tr>
<td>description</td>
<td>Number</td>
<td>A textual description of the room.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>This parameter explains the status of the room as you can see in the table below.</td>
</tr>
<tr>
<td>creationDate</td>
<td>String</td>
<td>Date and time of when the room was created ISO8601 standard.</td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>Optional, if it is present the value is true and the room is disabled. When a room is disabled, the user_urls param is empty</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_RUNNING</td>
<td>Current room is not running</td>
</tr>
<tr>
<td>RUNNING</td>
<td>Current room is running</td>
</tr>
<tr>
<td>CLOSED</td>
<td>Current room is deleted or ended (not available)</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="get-room-information">Get room information</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/room/info/:room_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_b571df8d8h3d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
        </span><span class="nt">"durationUsed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A textual description of the rest room created..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_RUNNING"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.bandyer.com/attach/rest-call-handler/aaaaaaaaaaaaaaaaaaaaa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.bandyer.com/attach/rest-call-handler/bbbbbbbbbbbbbbbbbbb"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"dialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
                </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
                </span><span class="nt">"seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"session"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_c73d8cfe4330"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"minutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"userEvents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_cd4791a26916"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user connected"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">],</span><span class="w">
                        </span><span class="nt">"userActivities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="p">{</span><span class="w">
                                </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_e39b045f215f"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"stopTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                                </span><span class="nt">"seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get room information through a valid room_id.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/room/info/:room_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of the room that you want the informations.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td>Room name</td>
</tr>
<tr>
<td>record</td>
<td>True if the room is recordable</td>
</tr>
<tr>
<td>duration</td>
<td>Max duration limit of the room, if 0 is unlimited</td>
</tr>
<tr>
<td>durationUsed</td>
<td>How many seconds the room was in <em>RUNNING</em> state. If the duration used is equals to the duration parameter, the room status will be <em>CLOSED</em>.</td>
</tr>
<tr>
<td>call_type</td>
<td>This is the call type, it can be âaudio_onlyâ, &#39;audio_upgradableâ or &#39;audio_videoâ.</td>
</tr>
<tr>
<td>description</td>
<td>A textual description of the room.</td>
</tr>
<tr>
<td>status</td>
<td>This parameter explains the status of the room as you can see in the table below.</td>
</tr>
<tr>
<td>disabled</td>
<td>Optional, if it is present the value is true and the room is <a href="#disable-room">disabled</a>. When a room is disabled, the user_urls param is empty</td>
</tr>
<tr>
<td>user_urls</td>
<td>Array of obj that contains the url of each user</td>
</tr>
<tr>
<td>dialInfo</td>
<td>Contains informations about sessions and users: room total time and users, detail for each session (with partial time and user count) and every user activity and event.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_RUNNING</td>
<td>Current room is not running</td>
</tr>
<tr>
<td>RUNNING</td>
<td>Current room is running</td>
</tr>
<tr>
<td>CLOSED</td>
<td>Current room is deleted or ended (not available)</td>
</tr>
</tbody></table>

<h2 id="get-room-session-recording">Get room session recording</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/room/recording/:session_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -d <span class="s1">'{
         "expire_time": XXXX
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://recordings.bandyer.com/sandbox/135/23715/23715.mp4?Expires=1529053578&amp;Policy=eyJTdGF0ZW1gbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9yZWNvcmRpbmdzLmJhbmR5ZXIuY25tL2RldmVsb3BtZW50LzEyNS8yMzc5NS8yMzc5NS5tcDQiLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiLjE1MjkwNTM1Nzh9fX1dfQ__&amp;Signature=LjDbMYIASbdJCSfWFxfu1A0HzKjzrUWKXqgCCc2OX-YzdGSOOHfPfiHaDOwdi0uBjqpvOegjakmy1QE5DGV8~OYYjT5IBiTWZTx9gTZRwYTMGwgvHmAUndi8Tiq8wWqZislv4n413QBSwq74oVMyZxx611Ssl7R62YN0-3OiSJS16bh4yhlvx4JlwG~3rL1aERYBiixlYpadhS4~Syr6p69wHwPLqAew4v3FlWvfoJLr4NudHt9OAfB0vHCX6iAbHpYznyhIWf7k451GRr01KKmvwky~I2lRTWEHoDOXolAouyuXExR9Z5SkqI30RueQPd3axugaZ1KtXwT4dqR~Og__&amp;Key-Pair-Id=APKARQIFJNX5UZ22C7FA"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint is used to obtain a session recording link.</p>

<p>In order to get a recording session URL, you have to choose the sessionID from <a href="#get-room-informations">Get Room Information</a> section.</p>

<aside class='notice'>
In the <a href="#get-room-informations">Get Room Information</a> section, you can find all sessions&rsquo; information belonging to that specific room. To find the sessionID needed, you can set up your favorite query such as: duration/creation_date/participants choosing among the key set in the response object.
</aside>

<aside class='notice'>
Our servers take some time to process the recorded sessions, in case your registration is not yet available, this rest will return an error.
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/room/recording/:session_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of a room session.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>expire_time</td>
<td style="text-align: center">false</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">30000</td>
<td>The amount of time express in milli-seconds of the validity of the generated resource URL.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>recording_not_found</td>
<td>Recording for session :session_id not found.a</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>room_no_recordable</td>
<td>The room associated to the session :session_id is not recordable</td>
</tr>
</tbody></table>

<h2 id="disable-room">Disable room</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://sandbox.bandyer.com/rest/room/disable/:room_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_bb71dd8d8f3d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Room room_bb71dd8d8f3d and all user links associated disabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint disable a specific room and all URL token link associated with it.
A disabled room will not able to be used again, however, the latter will not be deleted from Bandyer&rsquo;s data structure, all statistics will be still available.
The request will reply with a message.
In case of error, the message will explain the problem.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://sandbox.bandyer.com/rest/room/disable/:room_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The id of the room to disable</td>
</tr>
</tbody></table>

<h2 id="delete-room">Delete room</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://sandbox.bandyer.com/rest/room/delete/:room_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_bb71dd8d8f3d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Room room_bb71dd8d8f3d and all user links associated deleted"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint deletes a specific room and all URL token link associated with it.
The request will reply with a message.
In case of error, the message will explain the problem.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://sandbox.bandyer.com/rest/room/delete/:room_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The id of the room to delete</td>
</tr>
</tbody></table>

<h2 id="get-room-uploads-list">Get room uploads list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/room/:room_id/upload/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
        "upload_type" : "snapshot"
        "skip" : X,
        "limit" : Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uploads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_xxx/1585071715613-c8a493a0217fcbd69c7f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:41:56.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_c1b5bc092ea2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_yyy/1585070036835-7eccda27957cf7b27d5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:13:57.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_a1n5bk022jg9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list uploaded resources of a specific company room&rsquo;s matching the apikey with additional information including the key of
the resource to collect it using the dedicated <a href="#get-upload-resource">Get upload resource</a> api.
If no uploads are present an empty list will be returned.</p>

<p>It is possible to filter the returned list specifying <code class="prettyprint">upload_type</code>, <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> filter values.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/room/:room_id/upload/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of the room that you want the upload list.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The upload_type can be one of <code class="prettyprint">file_upload</code>, <code class="prettyprint">generic</code> and <code class="prettyprint">snapshot</code></td>
</tr>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in uploads array</td>
</tr>
<tr>
<td>uploads</td>
<td>Array</td>
<td>Array of uploaded resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="broadcast">Broadcast</h1>

<h2 id="create-broadcast">Create broadcast</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/broadcast/create"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "publisher_id": "usr_xxx",
        "panelists": [{"user_id" : "usr_yyy"}, {"user_id" : "usr_zzz"}]
        "description": "TestEvent",
        "record": "0"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"broadcast_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_beefa9f45545"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestEvent"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"recording"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"panelists"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_zzz"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The broadcast call is composed by one publisher and N subscribers.
The publisher is the user who will present the event.
The panelists are the co-presenters of the events (Up to 4), each of them can be broadcasted by the publisher.
The subscribers are the users who will attend the event.
The publisher can use his microphone and webcam in order to present the webinar. He can also use additional features such as screen-sharing, chat and file sharing.
This type of call is mainly indicated for hosting an event with a high number of subscribers (~2000).</p>

<p>If the panelists parameter is specified the publisher in addition to our audio/video/screenshare can broadcast the source of the others participants.
The broadcasted &lsquo;video&rsquo; is the representation of the publisher view.</p>

<p>The request must contain the id of the user who will be the presenter of the broadcast event.
It is possible to choose the name of the event and whether the event will be recorded or not.
The response returns the broadcast id which will be used to join the broadcast event created.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/broadcast/create</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publisher_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>Id of the user who will be the publisher of the broadcast event.</td>
</tr>
<tr>
<td>panelists</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>Lists of co-presenters that can be broadcasted by the publisher. Up to 4 panelists.</td>
</tr>
<tr>
<td>description</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>Name of the event.</td>
</tr>
<tr>
<td>chat</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Boolean</td>
<td style="text-align: center">true</td>
<td>If false disable the chat feature for all the subscriber&rsquo;s</td>
</tr>
<tr>
<td>record</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>1 if the user wants to record the videocall, 0 otherwise.</td>
</tr>
</tbody></table>

<aside class="notice"> Notice that the chat is disabled for the publisher. If the 'chat&rsquo; param is set to false, the chat between the users that subscribe the event is disabled but this doesn&rsquo;t limit the possibility for a subscriber to ask a question to a publisher using the appropriate tool.</aside>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_user_id</td>
<td>Invalid user id for publisher or panelists</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>invalid_panelists_count</td>
<td>Too many panelists. Max allowed panelists count is 4.</td>
</tr>
</tbody></table>

<h2 id="call-broadcast">Call broadcast</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/call/:user_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
         "broadcast_id" : "broadcast_id"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.bandyer.com/connect/rest-call-handler/xxxyyyzzz"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To join a broadcast event, the user needs to be redirect in a specific Bandyer page.
The request must contain the broadcast id of the event and the user id who has requested to join it.
The response returns the url in which either the publisher or the subscriber must be redirected to join the broadcast event.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/call/:user_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Id of the user who join the event</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Broadcast id of the event</td>
</tr>
<tr>
<td>direct</td>
<td style="text-align: center">no</td>
<td style="text-align: center">false</td>
<td>if set to true it will generate a link that will give direct access to the call without opening a new popup window</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>invalid_broadcast_id</td>
<td>Please specify at least one of the parameters between broadcast_id and callee</td>
</tr>
</tbody></table>

<h3 id="deprecated-parameters-deprecation-date-20-10-20">Deprecated parameters &mdash; Deprecation date: 20/10/20</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>callee</td>
<td style="text-align: center"></td>
<td>Broadcast id of the event</td>
</tr>
</tbody></table>

<h2 id="get-broadcasts-list">Get Broadcasts List</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/broadcast/list"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "skip" : X,
        "limit" : Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"broadcasts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_cn92r039862rcn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The description of the Broadcast"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surname"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name.surname@dominio.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_2cad1c846749"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The description of the Broadcast"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-13T10:55:08.780Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surname"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name.surname@dominio.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint returns the list of broadcasts created for the company matching the provided apikey.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/broadcast/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center"></td>
<td>Skips the first the specified number of returned records.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center"></td>
<td>Limits the number of returned records to the specified number(or less if there aren&rsquo;t enough).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<ul>
<li>One of the parameter in the response is <strong>status</strong>, this parameter explains the status of the broadcast as you can see in the table below.</li>
</ul>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_RUNNING</td>
<td>The broadcast is not running</td>
</tr>
<tr>
<td>RUNNING</td>
<td>The broadcast is running</td>
</tr>
<tr>
<td>CLOSED</td>
<td>The broadcast is ended (not available anymore)</td>
</tr>
</tbody></table>

<h2 id="get-broadcast-information">Get broadcast information</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/broadcast/info/:broadcast_id"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"broadcast"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_cn92r039862rcn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"record"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The description of the Broadcast"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publisher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_767bfa79c146"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surname"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name.surname@dominio.com"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"dialInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"numberOfSessions"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"totalDurationTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:12:37"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_cnruow48987"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subscribersCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subscribersConnTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"publishTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:18"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"totalTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:18"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_923846cb2398"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-04T22:44:30.652Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subscribersCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"subscribersConnTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"publishTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:19"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"totalTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:06:19"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get broadcast information through a valid broadcast_id.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/broadcast/info/:broadcast_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the broadcast that you want the informations.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<ul>
<li>One of the parameter in the response is <strong>status</strong>, this parameter explains the status of the broadcast as you can see in the table below.</li>
</ul>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_RUNNING</td>
<td>Current broadcast is not running</td>
</tr>
<tr>
<td>RUNNING</td>
<td>Current broadcast is running</td>
</tr>
<tr>
<td>CLOSED</td>
<td>Current broadcast is ended (not available anymore)</td>
</tr>
</tbody></table>

<ul>
<li>Another particular parameter is <strong>totalDurationTime</strong> that explains for how many time the broadcast was in <em>RUNNING</em> state.</li>
<li>The <strong>dialInfo</strong> section contains informations about all broadcast sessions: room total time, detail for each sesssion (with partial time) and every information about subscribers connected for each session.
And creation the creation date for each session.</li>
</ul>

<h2 id="get-broadcast-session-recording">Get broadcast session recording</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/broadcast/recording/:session_id"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -d <span class="s1">'{
         "expire_time" : XXXX
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://recordings.bandyer.com/sandbox/135/23715/23715.mp4?Expires=1529053578&amp;Policy=eyJTdGF0ZW1gbnQiOltsIlJlc291cmNlIjoiaHR0cHM6Ly9yZWNvcmRpbmdzLmJhbmR5ZXIuY25tL2RldmVsb3BtZWh0LzEyNS8yMzc5NS8yMzc5NS5tcDQiLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiLj71MjkwNTM1Nzh9fX1dfQ__&amp;Signature=LjDbMYIASbdJCSfWFxfu1A0HzKjzrUWKXqgCCy2OX-YzdGSOOHfPfiHaDOwdi0uBjqpvOegjakmy1QE5DGV8~OYYjT5IBlTWZTx9gTZRwYTMGwgvHmAUndi8Tiq8wWqZislv4n413QBSwq74oVMyZxx611Ssl7R62YN0-3OiSJS16bh4yhlvx4JlwG~3rL1aERYBiixlYpadhS4~Syr6p69wHwPLqLew4v3FlWvfoJLr4NudHt9OAfB0vHCX6iAbHpYznyhIWf7k451GRr01KKmvwky~I2lRTWEHoDOXolAouyuXExR9Z5SkqI30RueQPd3axugaZ8KtXwT4dqR~Og__&amp;Key-Pair-Id=APKARQIFJNX5US22C7FA"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint is used to obtain a broadcast session recording link.
In order to get a recording session URL, you have to choose the sessionID from <a href="#get-broadcast-informations">Get Broadcast Information</a> section.</p>

<p><strong>Note:</strong> In the <a href="#get-broadcast-informations">Get Broadcast Information</a> section, you can find all sessions&rsquo; information belonging to that specific broadcast. To find the sessionID needed, you can set up your favourite query such as: duration/creation_date/participants choosing among the key set in the response object.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/broadcast/recording/:session_id?expire_time=30000</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of a broadcast session.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>expire_time</td>
<td style="text-align: center">false</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">30000</td>
<td>The quantity of validity time [ms] of the URL generated.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>recording_not_found</td>
<td>Recording for session :session_id not found.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_room_type</td>
<td>The room associated with the session :session_id is not a broadcast</td>
</tr>
</tbody></table>

          <h1 id="session">Session</h1>

<h2 id="get-sessions-list">Get sessions list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/session/list"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
     -d <span class="s1">'{
        "skip": X
        "limit": Y,
        "start_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
        "end_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_46365c12bc1c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-08T15:14:16.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"connected_participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_yyy"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_7f60e61bd24e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"broadcast_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_919e35d58c29"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-07T08:33:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"connected_participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_zzz"</span><span class="w">
      </span><span class="p">],</span><span class="w">
     </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nt">"broadcast_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bro_7g258t62hn98y"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get basic information of all the sessions of a company.</p>

<p>The results are ordered by creation_date and can be filtered by <code class="prettyprint">skip</code>, <code class="prettyprint">limit</code>, <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>,</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/session/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
<tr>
<td>start_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date greater then start_date</td>
</tr>
<tr>
<td>end_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date lower then end_date</td>
</tr>
</tbody></table>

<aside class="notice"> If both start_date and end_date are specified we return a list of objects where the creation_date is between start_date and end_date</aside>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in sessions array</td>
</tr>
<tr>
<td>sessions</td>
<td>Array</td>
<td>Array of sessions resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<h4 id="sessions-object">Sessions Object</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td>Id of the session.</td>
</tr>
<tr>
<td>creation_date</td>
<td style="text-align: center"></td>
<td>String</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">Number</td>
<td>Elapsed time of the session, if 0 the session timing was not elaborated yet.</td>
</tr>
<tr>
<td>connected_participants</td>
<td style="text-align: center">Array of String</td>
<td>List of users who actually participated in the call (Can be differ from the users invited to the call).</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td>Id of the Room that have generated this session. Can be null in case of the session refer to a broadcast</td>
</tr>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td>Id of the Broadcast that have generated this session. Can be null in case of the session refer to a Room</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>get_session_list_error</td>
<td>Impossible to get session list, please retry</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="get-session-information">Get session information</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/session/:session_id"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_46936c12bd1c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-08T15:14:16.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nt">"connected_participants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_zzz"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_0f69e94yu24e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"broadcast_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get session information through a valid session_id.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/session/:session_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of the session that you want the information.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td>Id of the session.</td>
</tr>
<tr>
<td>creation_date</td>
<td style="text-align: center"></td>
<td>String</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">Number</td>
<td>Elapsed time of the session, if 0 the session timing was not elaborated yet.</td>
</tr>
<tr>
<td>connected_participants</td>
<td style="text-align: center">Array of String</td>
<td>List of users who actually participated in the call (Can be differ from the users invited to the call).</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td>Id of the Room that have generated this session. Can be null in case of the session refer to a broadcast</td>
</tr>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td>Id of the Broadcast that have generated this session. Can be null in case of the session refer to a Room</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>get_session_error</td>
<td>Impossible get session information, please retry</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>session_not_found</td>
<td>Session not found</td>
</tr>
</tbody></table>

<h2 id="get-session-connections-list">Get session connections list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/session/:session_id/connection/list"</span> <span class="se">\</span>
     -H <span class="s1">'apikey: COMPANY_APIKEY'</span> <span class="se">\</span>
     -d <span class="s1">'{
        "skip": X
        "limit": Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_b3hg66d196987"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"connection_events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-06T14:52:12.898Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_disconnect"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-06T14:52:01.851Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_disconnect"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-06T14:52:01.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_connect"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-06T14:52:01.688Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_connect"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get all the connection events of the users that have joined the session.</p>

<p>The results are ordered by timestamp and can be filtered by <code class="prettyprint">skip</code>, <code class="prettyprint">limit</code></p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/session/session_id/connection/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of the session that you want the information.</td>
</tr>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in connection_events array</td>
</tr>
<tr>
<td>connection_events</td>
<td>Array</td>
<td>Array of connection events resources matching the filters ordered by timestamp (DESC)</td>
</tr>
</tbody></table>

<h4 id="connection-events-object">Connection events Object</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td>Id of the user</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String</td>
<td>Event Date and time ISO8601 standard.</td>
</tr>
<tr>
<td>event</td>
<td style="text-align: center">String</td>
<td>Can be <code class="prettyprint">user_connect</code>, <code class="prettyprint">user_disconnect</code> or <code class="prettyprint">user_crashed</code></td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>get_session_events_error</td>
<td>Impossible get events for the given session, please retry</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>session_not_found</td>
<td>Session not found</td>
</tr>
</tbody></table>

<h2 id="get-session-uploads-list">Get session uploads list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/session/:session_id/upload/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
        "upload_type" : "snapshot"
        "skip" : X,
        "limit" : Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uploads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_xxx/1585071715613-c8a493a0217fcbd69c7f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:41:56.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_c1b5bc092ea2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_yyy/1585070036835-7eccda27957cf7b27d5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:13:57.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_c1b5bc092ea2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list uploaded resources of a specific company session&rsquo;s matching the apikey with additional information including the key of
the resource to collect it using the dedicated <a href="#get-upload-resource">Get upload resource</a> api.
If no uploads are present an empty list will be returned.</p>

<p>It is possible to filter the returned list specifying <code class="prettyprint">upload_type</code>, <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> filter values.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/session/:session_id/upload/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The id of the session that you want the upload list.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The upload_type can be one of <code class="prettyprint">file_upload</code>, <code class="prettyprint">generic</code> and <code class="prettyprint">snapshot</code></td>
</tr>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in uploads array</td>
</tr>
<tr>
<td>uploads</td>
<td>Array</td>
<td>Array of uploaded resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="recording-configuration">Recording configuration</h1>

<p>Configure how recordings are processed for the company. Recordings can have a prefixed storage retention, can be
compressed to save storage space and can be encrypted using a public key of choice.</p>

<h2 id="get-configuration">Get configuration</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/recording/config"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"retention_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
   </span><span class="nt">"compression"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"encryption_key_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the current recording configuration. Note that if you have never set a recording configuration, a default one will be used.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/recording/config</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="update-configuration">Update configuration</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/recording/config"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="o">{</span>
        <span class="s2">"retention_days"</span>: 15,
        <span class="s2">"compression"</span>: <span class="nb">true</span>,
        <span class="s2">"encryption_key_id"</span>: <span class="s2">"pk_xxxxxxxxxxxx"</span>
      <span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"retention_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
   </span><span class="nt">"compression"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"encryption_key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pk_xxxxxxxxxxxx"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update the recording config.</p>

<aside class="notice">If you would like to enable the encryption feature, please <a href="#create-encryption-key">create an encryption key</a> first and use the returned key_id as encryption_key_id in the config.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/recording/config</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>retention_days</td>
<td style="text-align: center">no</td>
<td style="text-align: center"></td>
<td>Specifies for how long (in days) the produced recordings are stored and are available to be collected. Allowed values are 0 &lt;= retention &lt;= 15 or 30, 60, 90, 120, 180, 365.</td>
</tr>
<tr>
<td>compression</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Specifies whether the recording files must be compressed. Additional charges applies.</td>
</tr>
<tr>
<td>encryption_key_id</td>
<td style="text-align: center">no</td>
<td style="text-align: center"></td>
<td>Specifies whether the recording files must be encrypted with the specified key. You must specify a <a href="#create-encryption-key">previously created</a> and active key_id.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>401</td>
<td>invalid_request_error</td>
<td>update_config_error</td>
<td>Impossible to update the config. Please retry</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>invalid_key_error</td>
<td>Key not found. Please check the encryption_key_id</td>
</tr>
<tr>
<td>422</td>
<td>invalid_request_error</td>
<td>retention_not_allowed</td>
<td>Invalid retention time. Allowed are 0 &lt;= retention &lt;= 15 or 30, 60, 90, 120, 180, 365</td>
</tr>
</tbody></table>

          <h1 id="encryption-key">Encryption key</h1>

<h2 id="create-encryption-key">Create encryption key</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/key/create"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
         "public_key" : "-----BEGIN PUBLIC KEY-----YOUR-PEM-----END PUBLIC KEY-----"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pk_xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-10T07:17:42.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a public key the can be used to encrypt the recording(the encryption must be set in <a href="#update-recording-config">recording config</a>).
Use this API if you want to encrypt the files using your public key instead of a standard AWS key(AES256).
Once created the key is identified by a key_id that can be used to refers to it.</p>

<aside class="notice">The public key must be a valid RSA(any size) in PEM format, you can use \n to separate each line or concatenate it in one row<br>
Example of RSA creation using openssl:
<ul>

<li>Generate a keypair: openssl genrsa -out private.pem 2048</li>

<li>Extract the public key from the keypair: openssl rsa -in private.pem -outform PEM -pubout -out public.pem</li>
</ul>

Now we have the private key(which is NOT to be shared) and the public key that can be used as parameters

</aside>

<p>The zip archive of the encrypted recording will contain:</p>

<ul>
<li><p>key.txt.enc: Contain a symmetric key encrypted with the given public key</p></li>
<li><p>iv.txt: initialisation vector, necessary fot the decrypt phase</p></li>
<li><p>README.txt: contains all the information for decrypt the files</p></li>
</ul>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/key/create</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>public_key</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>A valid PEM used to encrypt the recording</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>422</td>
<td>validation_error</td>
<td>invalid_public_key_error</td>
<td>Invalid public key. The public key must be a valid PEM.</td>
</tr>
</tbody></table>

<h2 id="get-encryption-key">Get encryption key</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/key/:key_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pk_xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-08T14:43:31.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details of the key.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/key/:key_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>The id of the key to retrieve</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>invalid_key_error</td>
<td>Key not found. Please check the key_id</td>
</tr>
</tbody></table>

<h2 id="get-encryption-keys-list">Get encryption keys list</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/key/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
         "skip": X
         "limit": Y,
         "start_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
         "end_date" : "YYYY-MM-GGTHH:mm:ss.zzzZ"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
       </span><span class="nt">"key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pk_xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-08T14:43:31.000Z"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
       </span><span class="nt">"key_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pk_yyyyyyyyyyyy"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-07-08T19:32:02.000Z"</span><span class="w">
   </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This end-point could be used to get basic information of all the keys a company.</p>

<p>The results are ordered by creation_date and can be filtered by <code class="prettyprint">skip</code>, <code class="prettyprint">limit</code>, <code class="prettyprint">start_date</code> and <code class="prettyprint">end_date</code>,</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/key/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
<tr>
<td>start_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date greater then start_date</td>
</tr>
<tr>
<td>end_date</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Date-Time</td>
<td style="text-align: center"></td>
<td>Filter apply to a creation_date. creation_date lower then end_date</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>keys_list_error</td>
<td>Impossible to retrieve keys information, please try again</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="token">Token</h1>

<p>As you can see in the example below, the end of the &ldquo;call access link&rdquo;, generated by fastcall, createroom, or broadcast, it is called &ldquo;Token&rdquo;.
In this section, you can check the current status of the token or revoke its call access.</p>

<p><code class="prettyprint">URL:</code> <em>https://xxx.bandyer.com/connect/rest-call-handler/<strong>90643787db1e7d3f</strong></em></p>

<p>The bolded alphanumeric string is the <strong>Token</strong>.</p>

<h2 id="check-token">Check token</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/token/check/:token_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>

<p>Valid token:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234fds1243adada0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE_TOKEN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token 234fds1243adada0 is valid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Invalid Token:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234fds1243adada0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_ACTIVE_TOKEN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token 234fds1243adada0 is not valid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint checks the validity of the token. Every request will reply with a code and a message that indicates the validity of the token.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/token/check/:token_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Token to check</td>
</tr>
</tbody></table>

<h2 id="delete-token">Delete token</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://sandbox.bandyer.com/rest/token/delete/token_id"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234fds1243adada0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token 234fds1243adada0 deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint deletes a specific token. The request will reply with a code and a message.
In case of error, the message will explain the problem.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://sandbox.bandyer.com/rest/token/delete/:token_id</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Token to delete</td>
</tr>
</tbody></table>

          <h1 id="upload">Upload</h1>

<h2 id="get-upload-resource">Get upload resource</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/upload/resource"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
        "upload_key" : "sandbox/company_alias/usr_xxyyzz/1585071715613-xxxyyyzzzxxxyyyzzz"
      }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://upload.bandyer.com/sandbox/company_alias/usr_xxyyzz/1585071715613-xxxyyyzzzxxxyyyzzz.jpeg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxyyzz"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-31T15:05:49.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_a1n5bk022jg9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the details and the resource url of an existing uploaded object giving its <code class="prettyprint">upload_key</code> to collect it.</p>

<p><b> <code class="prettyprint">upload_type</code> can be one of <code class="prettyprint">file_upload</code>, <code class="prettyprint">generic</code> and <code class="prettyprint">snapshot</code> </b></p>

<p>The response will be an Object containing information about the uploaded resource.</p>

<aside class="notice">The room_id field can be null if the room was not created from the REST-API</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/upload/resource</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_key</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The key that identifies the uploaded resource</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>upload_key_not_exists</td>
<td>There is no resource matching the upload_key :uploadKey.</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="get-list-of-uploads">Get list of uploads</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/upload/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
        "upload_type" : "snapshot"
        "skip" : X,
        "limit" : Y
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"skip"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uploads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_xxx/1585071715613-c8a493a0217fcbd69c7f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:41:56.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_c1b5bc092ea2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_yyy/1585070036835-7eccda27957cf7b27d5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-24T17:13:57.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_yyy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"session_a1n5bk022jg9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_5beecf8c0f29"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list uploaded resources for the company matching the apikey with additional information including the key of
the resource to collect it using the dedicated <a href="#get-upload-resource">Get upload resource</a> api.
If no uploads are present an empty list will be returned.</p>

<p>It is possible to filter the returned list specifying <code class="prettyprint">upload_type</code>, <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> filter values.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/upload/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_type</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The upload_type can be one of <code class="prettyprint">file_upload</code>, <code class="prettyprint">generic</code> and <code class="prettyprint">snapshot</code></td>
</tr>
<tr>
<td>skip</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">0</td>
<td>Skips the first specified number items.</td>
</tr>
<tr>
<td>limit</td>
<td style="text-align: center">no</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">20</td>
<td>Limits the number of returned records to the specified number, or less if there aren&rsquo;t enough. Max allowed value is 100</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>Number</td>
<td>The skip value passed as input</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>The limit value passed as input</td>
</tr>
<tr>
<td>has_more</td>
<td>Boolean</td>
<td><code class="prettyprint">true</code> if there are more items to fetch, <code class="prettyprint">false</code> otherwise (useful to paginate results)</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Actual number of returned elements in uploads array</td>
</tr>
<tr>
<td>uploads</td>
<td>Array</td>
<td>Array of uploaded resources matching the filters ordered by creation_date (DESC)</td>
</tr>
</tbody></table>

<aside class="notice"> The room_id field in the upload Object can be null if the room was not created from the REST-API</aside>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="delete-upload">Delete upload</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://sandbox.bandyer.com/rest/upload/resource"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
     -d <span class="s1">'{
        "upload_key": : "sandbox/company/user_xxx/1585071715613-c8a493a0217fcbd69c7f"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"upload_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sandbox/company/user_xxx/1585071715613-c8a493a0217fcbd69c7f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete a specific upload resource matching a key.</p>

<p>If the upload was not found on our systems, you will receive an error 404.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE &quot;https://sandbox.bandyer.com/rest/upload/resource&quot;</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_key</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The key of the upload that you want to delete</td>
</tr>
</tbody></table>

<h3 id="response-object">Response object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>upload_key</td>
<td>String</td>
<td>The key of the upload that you want to delete</td>
</tr>
<tr>
<td>upload_type</td>
<td>String</td>
<td>The type of the upload</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
<tr>
<td>404</td>
<td>invalid_request_error</td>
<td>upload_not_found</td>
<td>Unable to find the file specified</td>
</tr>
</tbody></table>

          <h1 id="tag">Tag</h1>

<h2 id="get-company-tags">Get company tags</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/tag/list"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list of the tags added for the company matching the apikey with the relative creation_date.
If no tag is present an empty list will be returned.</p>

<p>The response will be an Object with a key <code class="prettyprint">tags</code> containing an array of Objects (see the example).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/tag/list</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h2 id="add-company-tags">Add company tags</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/tag/add"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
     -d <span class="s1">'{
            "tags": ["tag1", "tag2", "tag3"],
        }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"added_tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag3"</span><span class="p">,</span><span class="w"> </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T11:06:26.000Z"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add one or more tags to the list of company tags.</p>

<p><b> The allowed characters for tags are letters, numbers and -._ symbol. Each tag must be at least 1 character long. </b></p>

<p>Returns the list of successfully added tags.
The response will be an Object with a key <code class="prettyprint">added_tags</code> containing an array of Objects (see the example).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/tag/add</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tags</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>The array of tags to add</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_tags</td>
<td>One ore more tags contains invalid characters. Allowed characters are letters, numbers and .-_ symbols.</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="remove-company-tags">Remove company tags</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/tag/remove"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
     -d <span class="s1">'{
            "tags": ["tag1", "tag2", "tag3"],
        }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"removed_tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag1"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag2"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag3"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Remove one or more tags from the list of company tags.</p>

<p>Returns the list of successfully removed tags.
The response will be an Object with a key <code class="prettyprint">removed_tags</code> containing an array of Objects (see the example).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/tag/remove</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tags</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>The array of tags to remove</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="webhooks">WebHooks</h1>

<h2 id="configure">Configure</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/:version/hook/configure"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
     -d <span class="s1">'
        {   "post_event_webhook_url": "https://hooks.yoursite.com/post-webhooks",
            "webhook_method": "POST"
            "webhook_filters": ["on_room_created", "on_room_deleted", "on_session_started", "on_session_ended"]
        }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"active_webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"post_event_webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.yoursite.com/post-webhooks"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_room_created"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-24T16:22:58.256Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"post_event_webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.yoursite.com/post-webhooks"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_room_deleted"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-24T16:22:58.521Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"post_event_webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.yoursite.com/post-webhooks"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_session_started"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-20T11:59:14.390Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"post_event_webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.yoursite.com/post-webhooks"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_session_ended"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-24T16:23:00.182Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The Bandyer programmable Webhooks are event callbacks that can be listened to enable the monitoring and
interception of specific events happening on Bandyer through a backend service.
When a callback is specified, Bandyer will make an HTTP request to the designated webhook URL.
This request contains various relevant data that can be used, for example to collect statistics on usage,
or to execute operations triggered by the usage of the platform.</p>

<p>The event type of Bandyer webhooks is &ldquo;Post-Event&rdquo;, which means that the event is notified after it happened on Bandyer systems.
These events are notified through http requests fired from Bandyer system to the url specified during the configuration.
<aside class="notice">The Bandyer system require a 200 OK response to signal back that the webhooks have been correctly processed by the endpoint, otherwise a retry logic will be executed.</p>

<p>All the non 200 responses are logged as errors just for information purposes.
</aside></p>

<p>The event payload includes a set of relevant data depending on the event type that can be used in various ways to develop logics on the integrating system.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/:version/hook/configure</code></p>

<h3 id="path-parameters">Path Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>version</td>
<td style="text-align: center">no</td>
<td style="text-align: center">v0</td>
<td>Version of the webhooks that you want to add (see table below for further information).</td>
</tr>
</tbody></table>

<aside class='notice'> We recommend to configure webhooks grouped by version.
Specify `v1` allows to add ONLY `v1` hooks. Omitting the version path param is equivalent to specify `v0` hence configure `v0` hooks.</aside>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>post_event_webhook_url</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The absolute URL where the callback should make an HTTP request for Post events.</td>
</tr>
<tr>
<td>webhook_method</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center"></td>
<td>The method for issuing the HTTP request - POST.</td>
</tr>
<tr>
<td>webhook_filters</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">Array</td>
<td style="text-align: center"></td>
<td>List of Webhooks to enable for this Service instance.</td>
</tr>
</tbody></table>

<aside class='notice'> To remove a Webhook, omit the relevant Webhook from the **webhook_filters** request parameter list, and it will be removed/disabled. </aside>

<h3 id="post-event-callback">Post-Event Callback</h3>

<table><thead>
<tr>
<th>Event Fired</th>
<th>version</th>
<th>Action that triggered</th>
</tr>
</thead><tbody>
<tr>
<td>on_room_created</td>
<td>v0</td>
<td>When a new room is created</td>
</tr>
<tr>
<td>on_room_disabled</td>
<td>v0</td>
<td>When a room is disabled</td>
</tr>
<tr>
<td>on_room_deleted</td>
<td>v0</td>
<td>When a room is deleted</td>
</tr>
<tr>
<td>on_room_new_feedback</td>
<td>v0</td>
<td>When a new feedback has been left for a room</td>
</tr>
<tr>
<td>on_session_started</td>
<td>v0, v1</td>
<td>When a session of a room starts</td>
</tr>
<tr>
<td>on_session_ended</td>
<td>v0, v1</td>
<td>When a session of a room ends</td>
</tr>
<tr>
<td>on_session_paused</td>
<td>v0, v1</td>
<td>When a session of a room is paused</td>
</tr>
<tr>
<td>on_session_resumed</td>
<td>v0, v1</td>
<td>When a session of a room is resumed</td>
</tr>
<tr>
<td>on_user_connected</td>
<td>v0</td>
<td>A user is connected</td>
</tr>
<tr>
<td>on_user_disconnected</td>
<td>v0</td>
<td>A user is disconnected</td>
</tr>
<tr>
<td>on_call_incoming</td>
<td>v0</td>
<td>When a call is created</td>
</tr>
<tr>
<td>on_call_ended</td>
<td>v0</td>
<td>When a call is ended</td>
</tr>
<tr>
<td>on_recording_available</td>
<td>v0</td>
<td>When a room session recording is available</td>
</tr>
<tr>
<td>on_broadcast_recording_available</td>
<td>v0</td>
<td>When a broadcast session recording is available</td>
</tr>
<tr>
<td>on_broadcast_start</td>
<td>v0</td>
<td>When a broadcast is started by publisher</td>
</tr>
<tr>
<td>on_broadcast_stop</td>
<td>v0</td>
<td>When a broadcast stopped by publisher</td>
</tr>
<tr>
<td>on_broadcast_pub_connected</td>
<td>v0</td>
<td>When the publisher is connected to a broadcast</td>
</tr>
<tr>
<td>on_broadcast_pub_disconnected</td>
<td>v0</td>
<td>When the publisher is disconnected from a broadcast</td>
</tr>
<tr>
<td>on_broadcast_sub_connected</td>
<td>v0</td>
<td>When a subscriber is connected to a broadcast</td>
</tr>
<tr>
<td>on_broadcast_sub_disconnected</td>
<td>v0</td>
<td>When a subscriber is disconnected from a broadcast</td>
</tr>
<tr>
<td>on_broadcast_new_feedback</td>
<td>v0</td>
<td>When a new feedback has been left for a broadcast</td>
</tr>
<tr>
<td>on_message_sent</td>
<td>v1</td>
<td>When a new message is posted to a chat</td>
</tr>
<tr>
<td>on_upload_tag_added</td>
<td>v1</td>
<td>When a new tag is added to a snapshot</td>
</tr>
<tr>
<td>on_upload_tag_removed</td>
<td>v1</td>
<td>When a tag was removed from a snapshot</td>
</tr>
</tbody></table>

<h3 id="webhook-request-parameters">Webhook request parameters</h3>

<blockquote>
<p>Parse parameters</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">"/hook"</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
 <span class="c1">// Responding 200, is important to avoid a retry logic from Bandyer system</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">end</span><span class="p">()</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// Log the response if needed</span>
  <span class="cm">/*{
      event: "on_room_created",
      room_id: "room_52sdfg5sv6",
      data: '{
          "room_id": "room_52sdfg5sv6",
           "record": "false",
           "duration": 0,
           "directCall": true,
           "description": "your description",
           "user_urls": ["url1", "url2"]
      }'
  } */</span>

  <span class="c1">// Obtain an object representation of the data field</span>
  <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<p>When Bandyer makes an HTTP request to your server, it will include contextual information related to the action that triggered the WebHook call to your backend.</p>

<p>In addition to the event-specific parameters, each request will also contain the following parameters and information:</p>

<h4 id="header-parameters">Header Parameters</h4>

<h5 id="room-events">Room Events</h5>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room-id-hmac</td>
<td style="text-align: center">String</td>
<td>This is the HMAC base auth of Bandyer, this digest is a SHA256 of room_id cyphered by your api_key as shared secret.</td>
</tr>
</tbody></table>

<h5 id="broadcast-events">Broadcast Events</h5>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room-id-hmac</td>
<td style="text-align: center">String</td>
<td>This is the HMAC base auth of Bandyer, this digest is a SHA256 of room_id cyphered by your api_key as shared secret.</td>
</tr>
</tbody></table>

<h4 id="webhook-payload">Webhook payload</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td style="text-align: center">String</td>
<td>The name of the event</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td>The room (or broadcast) id of the event fired.</td>
</tr>
<tr>
<td>data</td>
<td style="text-align: center">String</td>
<td>A stringified representation of the event data. It requires for example a JSON.parse() to transform the string in object representation</td>
</tr>
</tbody></table>

<aside class="notice"> See following sections for the specification of the data field.</aside>

<h2 id="information">Information</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/:version/hook/"</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"active_webhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"https://your_registered_domain.com"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_recording_available"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-28T09:29:59.836Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_room_created"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-28T09:29:59.838Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"webhook_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_room_deleted"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-28T09:29:59.839Z"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"event_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This end-point could be used to get all the active webhooks on the company based on API version.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/:version/hook</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>version</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: center">v1</td>
<td>Version of the webhooks that you want to retrieve the information.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="v0-room-events">v0 - Room events</h2>

<p>Room events data specification.</p>

<h3 id="on_room_created">on_room_created</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>record</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">Specify if the room is recorded or not</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Max duration of the room</td>
</tr>
<tr>
<td>directCall</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">Specify if the url created are direct or not</td>
</tr>
<tr>
<td>description</td>
<td style="text-align: center">String</td>
<td style="text-align: center">description of the room</td>
</tr>
<tr>
<td>user_urls</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">User urls of the room</td>
</tr>
</tbody></table>

<h3 id="on_room_disabled">on_room_disabled</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>message</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room {room_id} and all user links associated disabled</td>
</tr>
</tbody></table>

<h3 id="on_room_deleted">on_room_deleted</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>message</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room {room_id} and all user links associated deleted</td>
</tr>
</tbody></table>

<h3 id="on_room_new_feedback">on_room_new_feedback</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the room</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
<tr>
<td>rating</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Rating from 1 to 5</td>
</tr>
<tr>
<td>message</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Feedback message</td>
</tr>
</tbody></table>

<h3 id="on_session_started">on_session_started</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of session started</td>
</tr>
</tbody></table>

<h3 id="on_session_ended">on_session_ended</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of session ended</td>
</tr>
</tbody></table>

<h3 id="on_session_paused">on_session_paused</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of session paused</td>
</tr>
</tbody></table>

<h3 id="on_session_resumed">on_session_resumed</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of session resumed</td>
</tr>
</tbody></table>

<h3 id="on_user_connected">on_user_connected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>first_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Firstname of the user</td>
</tr>
<tr>
<td>last_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Lastname of the user</td>
</tr>
<tr>
<td>email</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Email of the user</td>
</tr>
<tr>
<td>room.room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>room.connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of user connection</td>
</tr>
</tbody></table>

<h3 id="on_user_disconnected">on_user_disconnected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>first_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Firstname of the user</td>
</tr>
<tr>
<td>last_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Lastname of the user</td>
</tr>
<tr>
<td>email</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Email of the user</td>
</tr>
<tr>
<td>room.room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the room</td>
</tr>
<tr>
<td>room.connected_users</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Number of connected users</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Timestamp of user connection</td>
</tr>
</tbody></table>

<h3 id="on_call_incoming">on_call_incoming</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>initiator</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the initiator of the call</td>
</tr>
<tr>
<td>users</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Participants of the call</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the call</td>
</tr>
<tr>
<td>options.duration</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Max duration of the room</td>
</tr>
<tr>
<td>options.record</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">Specify if the room is recorded or not</td>
</tr>
<tr>
<td>options.creationDate</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Creation date of the call</td>
</tr>
</tbody></table>

<h3 id="on_call_ended">on_call_ended</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the call</td>
</tr>
</tbody></table>

<h3 id="on_recording_available">on_recording_available</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the call</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the room</td>
</tr>
<tr>
<td>creationDate</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Creation date of the file</td>
</tr>
</tbody></table>

<h2 id="v0-broadcast-events">v0 - Broadcast events</h2>

<p>Broadcast events data specification.</p>

<h3 id="on_broadcast_recording_available">on_broadcast_recording_available</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Room id of the call</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the room</td>
</tr>
<tr>
<td>creationDate</td>
<td style="text-align: center">String (ISO8601 time)</td>
<td style="text-align: center">Creation date of the file</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_start">on_broadcast_start</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the broadcast</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_stop">on_broadcast_stop</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the broadcast</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_pub_connected">on_broadcast_pub_connected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_pub_disconnected">on_broadcast_pub_disconnected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_sub_connected">on_broadcast_sub_connected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_sub_disconnected">on_broadcast_sub_disconnected</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast Id of the broadcast</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
</tbody></table>

<h3 id="on_broadcast_new_feedback">on_broadcast_new_feedback</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>broadcast_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Broadcast id of the broadcast</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Session id of the broadcast</td>
</tr>
<tr>
<td>user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Id of the user</td>
</tr>
<tr>
<td>rating</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Rating from 1 to 5</td>
</tr>
<tr>
<td>message</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Feedback message</td>
</tr>
</tbody></table>

<h2 id="v1-sessions-events">v1 - Sessions events</h2>

<p>Sessions events data specification.</p>

<h3 id="security">Security</h3>

<p>We sign each web hook including a signature in each web hook <strong>bandyer-signature</strong> header. This allows to verify that the web hooks are sent by Bandyer and not by a third party.</p>

<p>The <code class="prettyprint">bandyer-signature</code> header will be in the form: <code class="prettyprint">t=1554193902,v0=ComputedHMAC</code> where <code class="prettyprint">v0</code> is the computed signature.</p>

<p>To compute the signature you must concatenate:</p>

<ul>
<li><code class="prettyprint">t value</code> (as a string)</li>
<li>the character <code class="prettyprint">.</code></li>
<li>The actual <code class="prettyprint">JSON payload</code> (i.e the request body)</li>
</ul>

<p>Example:</p>

<p>Input: <code class="prettyprint">1554193902.{&quot;event&quot;:&quot;test&quot;}</code></p>

<p>You then create an SHA256 HMAC using that string as input and the company <code class="prettyprint">apikey</code> as secret key.</p>

<p>secret key: <code class="prettyprint">ak_live_123456</code> â SHA256 HMAC: <code class="prettyprint">6841e55cb12f2d9d1216c47097c75fd737a22a3a00c8d8f8d3d35fb2b613ce5b</code></p>
<pre class="highlight javascript"><code><span class="c1">// How to compute bandyer-signature using NodeJS</span>

<span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">event</span><span class="p">:</span> <span class="s1">'on_session_started'</span><span class="p">,</span>
  <span class="na">event_version</span><span class="p">:</span> <span class="s1">'1.0'</span><span class="p">,</span>
  <span class="na">namespace</span><span class="p">:</span> <span class="s1">'session'</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="s1">'1554297626718'</span><span class="p">,</span>
    <span class="na">session_id</span><span class="p">:</span> <span class="s1">'session_a1n5bk022jg9'</span><span class="p">,</span>
    <span class="na">room_id</span><span class="p">:</span> <span class="s1">'room_5beecf8c0f29'</span>
    <span class="na">connected_participants</span><span class="p">:</span> <span class="p">[</span> <span class="c1">// optional parameter, present for on_session_started and on_session_resumed</span>
        <span class="s1">'user_xxx'</span><span class="p">,</span>
        <span class="s1">'user_yyy'</span>
    <span class="p">],</span>
    <span class="na">duration</span><span class="p">:</span> <span class="p">{</span> <span class="c1">// optional parameter, present if the call was created with the duration parameter</span>
        <span class="na">total_duration</span><span class="p">:</span> <span class="mi">8600</span>
        <span class="na">elapsed_time</span><span class="p">:</span> <span class="mi">300</span> <span class="c1">// Elapsed time of the session</span>
    <span class="p">}</span>
    <span class="p">}</span>
<span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s1">'ak_fake_123456789'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="s1">'1554297654628'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">bandyerSignature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">timestamp</span><span class="p">}.</span><span class="nx">$</span><span class="p">{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">)}</span><span class="err">`</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">));</span>
</code></pre>

<h3 id="header-parameters">Header parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bandyer-signature</td>
<td style="text-align: center">String</td>
<td>example: t=1554193902,v0=ComputedHMAC</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td style="text-align: center">String</td>
<td>Name of the event</td>
</tr>
<tr>
<td>event_version</td>
<td style="text-align: center">String</td>
<td>Version of the webhook</td>
</tr>
<tr>
<td>namespace</td>
<td style="text-align: center">String</td>
<td>Namespace of the webhook event</td>
</tr>
<tr>
<td>data</td>
<td style="text-align: center">Object</td>
<td>The event data.</td>
</tr>
</tbody></table>

<h3 id="on_session_started">on_session_started</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed in UTC</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the event</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the session</td>
</tr>
<tr>
<td>connected_participants</td>
<td style="text-align: center">String</td>
<td style="text-align: center">List of users that have started the session</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Optional parameters, present if the call was created with the duration parameter</td>
</tr>
</tbody></table>

<h3 id="on_session_resumed">on_session_resumed</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed in UTC</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the event</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the session</td>
</tr>
<tr>
<td>connected_participants</td>
<td style="text-align: center">String</td>
<td style="text-align: center">List of users that have resumed the session</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Optional parameters, present if the call was created with the duration parameter</td>
</tr>
</tbody></table>

<h3 id="on_session_paused">on_session_paused</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed in UTC</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the event</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the session</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Optional parameters, present if the call was created with the duration parameter</td>
</tr>
</tbody></table>

<h3 id="on_session_ended">on_session_ended</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed in UTC</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the event</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the session</td>
</tr>
<tr>
<td>duration</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Optional parameters, present if the call was created with the duration parameter</td>
</tr>
</tbody></table>

<h2 id="v1-chat-events">v1 - Chat events</h2>

<p>Chat events data specification.</p>

<h3 id="security">Security</h3>

<p>We sign each web hook including a signature in each web hook <strong>bandyer-signature</strong> header. This allows to verify that the web hooks are sent by Bandyer and not by a third party.</p>

<p>The <code class="prettyprint">bandyer-signature</code> header will be in the form: <code class="prettyprint">t=1554193902,v0=ComputedHMAC</code> where <code class="prettyprint">v0</code> is the computed signature.</p>

<p>To compute the signature you must concatenate:</p>

<ul>
<li><code class="prettyprint">t value</code> (as a string)</li>
<li>the character <code class="prettyprint">.</code></li>
<li>The actual <code class="prettyprint">JSON payload</code> (i.e the request body)</li>
</ul>

<p>Example:</p>

<p>Input: <code class="prettyprint">1554193902.{&quot;event&quot;:&quot;test&quot;}</code></p>

<p>You then create an SHA256 HMAC using that string as input and the company <code class="prettyprint">apikey</code> as secret key.</p>

<p>secret key: <code class="prettyprint">ak_live_123456</code> â SHA256 HMAC: <code class="prettyprint">6841e55cb12f2d9d1216c47097c75fd737a22a3a00c8d8f8d3d35fb2b613ce5b</code></p>
<pre class="highlight javascript"><code><span class="c1">// How to compute bandyer-signature using NodeJS</span>

<span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">event</span><span class="p">:</span> <span class="s1">'on_message_sent'</span><span class="p">,</span>
  <span class="na">event_version</span><span class="p">:</span> <span class="s1">'1.0'</span><span class="p">,</span>
  <span class="na">namespace</span><span class="p">:</span> <span class="s1">'chat'</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span>
   <span class="p">{</span>
        <span class="na">sender</span><span class="p">:</span> <span class="s1">'user_xxx'</span><span class="p">,</span>
        <span class="na">body</span><span class="p">:</span> <span class="s1">'test'</span><span class="p">,</span>
        <span class="na">id</span><span class="p">:</span> <span class="s1">'IMzzzzzzzzzzzzzzzzzzzzzzz'</span><span class="p">,</span>
        <span class="na">channel_id</span><span class="p">:</span> <span class="s1">'CHxxxxxxxxxxxxxxxxxxxxxxxxxx'</span><span class="p">,</span>
        <span class="na">participants</span><span class="p">:</span> <span class="p">[</span> <span class="s1">'user_xxx'</span><span class="p">,</span> <span class="s1">'userr_yyy'</span> <span class="p">],</span>
        <span class="na">creation_date</span><span class="p">:</span> <span class="s1">'2020-02-04T13:58:50.220Z'</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'text'</span><span class="p">,</span>
        <span class="na">attributes</span><span class="p">:</span> <span class="nb">String</span>
   <span class="p">}</span>
<span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s1">'ak_fake_123456789'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="s1">'1554297654628'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">bandyerSignature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">timestamp</span><span class="p">}.</span><span class="nx">$</span><span class="p">{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">)}</span><span class="err">`</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">));</span>
</code></pre>

<h3 id="header-parameters">Header parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bandyer-signature</td>
<td style="text-align: center">String</td>
<td>example: t=1554193902,v0=ComputedHMAC</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td style="text-align: center">String</td>
<td>on_message_sent</td>
</tr>
<tr>
<td>event_version</td>
<td style="text-align: center">String</td>
<td>Version of the webhook</td>
</tr>
<tr>
<td>namespace</td>
<td style="text-align: center">String</td>
<td>Namespace of the webhook event</td>
</tr>
<tr>
<td>data</td>
<td style="text-align: center">Object</td>
<td>The event data.</td>
</tr>
</tbody></table>

<h3 id="on_message_sent">on_message_sent</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Unique identifier of the message</td>
</tr>
<tr>
<td>channel_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Unique identifier of the channel</td>
</tr>
<tr>
<td>participants</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Array of participants</td>
</tr>
<tr>
<td>body</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Text of the message</td>
</tr>
<tr>
<td>type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Type of the message. Valid values: &ldquo;text&rdquo;</td>
</tr>
<tr>
<td>creation_date</td>
<td style="text-align: center">Date</td>
<td style="text-align: center">When message was created</td>
</tr>
<tr>
<td>sender</td>
<td style="text-align: center">String</td>
<td style="text-align: center">User alias of the creator of the message</td>
</tr>
<tr>
<td>index</td>
<td style="text-align: center">Number</td>
<td style="text-align: center">Index of the message</td>
</tr>
<tr>
<td>attributes</td>
<td style="text-align: center">Object</td>
<td style="text-align: center">Attributes of the message</td>
</tr>
</tbody></table>

<h2 id="v1-upload-events">v1 - Upload events</h2>

<p>Upload events data specification.</p>

<h3 id="security">Security</h3>

<p>We sign each web hook including a signature in each web hook <strong>bandyer-signature</strong> header. This allows to verify that the web hooks are sent by Bandyer and not by a third party.</p>

<p>The <code class="prettyprint">bandyer-signature</code> header will be in the form: <code class="prettyprint">t=1554193902,v0=ComputedHMAC</code> where <code class="prettyprint">v0</code> is the computed signature.</p>

<p>To compute the signature you must concatenate:</p>

<ul>
<li><code class="prettyprint">t value</code> (as a string)</li>
<li>the character <code class="prettyprint">.</code></li>
<li>The actual <code class="prettyprint">JSON payload</code> (i.e the request body)</li>
</ul>

<p>Example:</p>

<p>Input: <code class="prettyprint">1554193902.{&quot;event&quot;:&quot;test&quot;}</code></p>

<p>You then create an SHA256 HMAC using that string as input and the company <code class="prettyprint">apikey</code> as secret key.</p>

<p>secret key: <code class="prettyprint">ak_live_123456</code> â SHA256 HMAC: <code class="prettyprint">6841e55cb12f2d9d1216c47097c75fd737a22a3a00c8d8f8d3d35fb2b613ce5b</code></p>
<pre class="highlight javascript"><code><span class="c1">// How to compute bandyer-signature using NodeJS</span>

<span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">event</span><span class="p">:</span> <span class="s1">'on_upload_tag_added'</span><span class="p">,</span>
  <span class="na">event_version</span><span class="p">:</span> <span class="s1">'1.0'</span><span class="p">,</span>
  <span class="na">namespace</span><span class="p">:</span> <span class="s1">'tag'</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">tag</span><span class="p">:</span> <span class="s1">'tag1'</span><span class="p">,</span>
    <span class="na">upload_key</span><span class="p">:</span> <span class="s1">'sandbox/cmpny_abcdefg/user_yyy/1585070036835-xxxyyyzzzxxxxyyyzzz'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="s1">'1554297626718'</span><span class="p">,</span>
    <span class="na">session_id</span><span class="p">:</span> <span class="s1">'session_a1n5bk022jg9'</span><span class="p">,</span>
    <span class="na">room_id</span><span class="p">:</span> <span class="s1">'room_5beecf8c0f29'</span>
    <span class="p">}</span>
<span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s1">'ak_fake_123456789'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="s1">'1554297654628'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">bandyerSignature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">timestamp</span><span class="p">}.</span><span class="nx">$</span><span class="p">{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">)}</span><span class="err">`</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">));</span>
</code></pre>

<h3 id="header-parameters">Header parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bandyer-signature</td>
<td style="text-align: center">String</td>
<td>example: t=1554193902,v0=ComputedHMAC</td>
</tr>
</tbody></table>

<h3 id="payload">Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td style="text-align: center">String</td>
<td>on_upload_tag_added</td>
</tr>
<tr>
<td>event_version</td>
<td style="text-align: center">String</td>
<td>Version of the webhook</td>
</tr>
<tr>
<td>namespace</td>
<td style="text-align: center">String</td>
<td>Namespace of the webhook event</td>
</tr>
<tr>
<td>data</td>
<td style="text-align: center">Object</td>
<td>The event data.</td>
</tr>
</tbody></table>

<h3 id="on_upload_tag_added">on_upload_tag_added</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Name of the added tag</td>
</tr>
<tr>
<td>upload_key</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Key of the uploaded resource that was tagged</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the uploaded resource</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the uploaded resource</td>
</tr>
</tbody></table>

<aside class="notice"> The room_id field can be null if the room was not created from the REST-API</aside>

<h3 id="on_upload_tag_removed">on_upload_tag_removed</h3>

<p>Data content:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Name of the removed tag</td>
</tr>
<tr>
<td>upload_key</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Key of the uploaded resource that was un-tagged</td>
</tr>
<tr>
<td>timestamp</td>
<td style="text-align: center">String (Unix Timestamp)</td>
<td style="text-align: center">Timestamp of the action performed</td>
</tr>
<tr>
<td>session_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The session associated to the uploaded resource</td>
</tr>
<tr>
<td>room_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The room associated to the uploaded resource</td>
</tr>
</tbody></table>

<aside class="notice"> The room_id field can be null if the room was not created from the REST-API</aside>

          <h1 id="chat">Chat</h1>

<h2 id="get-chat-messages">Get chat messages</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and usr_xxx and usr_yyy with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/chat/messages"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "users" : ["usr_xxx", "usr_yyy"],
        "order" : "asc",
        "page_number" : 1,
        "page_size" : 10,
        "page_token" : ""
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"page_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"page_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT10"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-16T09:29:36.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-16T09:34:10.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How are you doing?"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-16T09:40:47.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fine thanks"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_yyy"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-16T09:49:48.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the chat messages exchanged between the users passed as input.
The endpoint is paginated because the number of messages can increase indefinitely.</p>

<p>The response has a <code class="prettyprint">messages</code> key containing an array of messages and a <code class="prettyprint">meta</code> key that contains metadata to use to implement pagination.
More specifically, there are a <code class="prettyprint">next</code> and a <code class="prettyprint">previous</code> keys containing the parameters to pass to obtain respectively
the next and the previous page of messages.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/chat/messages</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td>The API key of your company</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Array of valid user aliases.</td>
</tr>
<tr>
<td>order</td>
<td style="text-align: center">no</td>
<td style="text-align: center">&ldquo;asc&rdquo;</td>
<td>The sort order of the returned messages. [asc</td>
</tr>
<tr>
<td>page_number</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>This number is just a counter to keep track of the page number requested on the client.</td>
</tr>
<tr>
<td>page_size</td>
<td style="text-align: center">no</td>
<td style="text-align: center">50</td>
<td>Max number of messages returned in a single request.</td>
</tr>
<tr>
<td>page_token</td>
<td style="text-align: center">no</td>
<td style="text-align: center"></td>
<td>A token provided in each response to keep track of the page index requested so far. Include the token in the request obtain the subsequent page.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_users_length</td>
<td>Users array must contain at least two valid users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_service_disabled</td>
<td>The chat service is not enabled for your company</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_param</td>
<td>One or more input parameters are invalid, check the error message</td>
</tr>
<tr>
<td>500</td>
<td>internal_server_error</td>
<td></td>
<td>Something wrong happened fetching chat messages, please retry</td>
</tr>
</tbody></table>

<h2 id="add-chat">Add chat</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and usr_xxx and usr_yyy with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/chat/add"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "users" : ["usr_xxx", "usr_yyy"]
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usr_yyy"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chat added"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a chat between the users passed as input.</p>

<p>The response, specify the users passed in input, this means that the chat is created as reported in the message field with the &ldquo;Chat_added&rdquo; message</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/chat/add</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td>The API key of your company</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Array of valid user aliases.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_users_length</td>
<td>Users array must contain at least two valid users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_service_disabled</td>
<td>The chat service is not enabled for your company</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="remove-chat">Remove chat</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and usr_xxx and usr_yyy with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/chat/remove"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "users" : ["usr_xxx", "usr_yyy"]
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"chat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"usr_yyy"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chat removed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Remove a chat between the users passed as input.</p>

<p>The response, specify the users passed in input, this means that the chat is removed as reported in the message field with the &ldquo;Chat_removed&rdquo; message</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/chat/remove</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td>The API key of your company</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Array of valid user aliases.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_users_length</td>
<td>Users array must contain at least two valid users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_service_disabled</td>
<td>The chat service is not enabled for your company</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_not_found</td>
<td>Chat not found for the given users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>remove_chat_error</td>
<td>Unable to remove the chat, check the users and retry</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

<h2 id="send-message">Send message</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key and usr_xxx and usr_yyy with valid users):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://sandbox.bandyer.com/rest/chat/add"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
        "users" : ["usr_xxx", "usr_yyy"],
        "sender" : "usr_xxx",
        "message" : "test message"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"usr_yyy"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxx"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test message"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-21T11:42:22.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Send a message from a given user, in a specified channel</p>

<p>The response, specify the users passed in input, the sender who send the message, in addition to the text of the message there is the index and the timestamp</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/chat/messages</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td>The API key of your company</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>users</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Array of valid user aliases.</td>
</tr>
<tr>
<td>sender</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Who send the message.</td>
</tr>
<tr>
<td>message</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
<td>Text of the message.</td>
</tr>
</tbody></table>

<h3 id="error">Error</h3>

<table><thead>
<tr>
<th>Status</th>
<th>Name</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>invalid_users_length</td>
<td>Users array must contain at least two valid users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>user_not_a_member</td>
<td>The given sender is not a member of the specified channel, please check the users.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>chat_service_disabled</td>
<td>The chat service is not enabled for your company.</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request_error</td>
<td>send_message_error</td>
<td>Chat service error, unable to send message, retry.</td>
</tr>
<tr>
<td>401</td>
<td>invalid_api_key</td>
<td>invalid_api_key</td>
<td>Apikey is not valid</td>
</tr>
</tbody></table>

          <h1 id="activities">Activities</h1>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/activity"</span> <span class="se">\</span>
  -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
  -d <span class="s1">'{
        "filter" : [
        {
            "limit": X,
            "skip" : Y,
            "date_from" : "YYYY-MM-DD:HH:mm:sssZ",
            "date_to" : "YYYY-MM-DD:HH:mm:sssZ",
            "activity_type" : "activity_type",
            "user_alias" : "user_id",
            "room_alias": "room_id"
        }
            ]
      }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"activities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_connection"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:23:28.610Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_connection"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:23:21.223Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_start_call"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:01:11.415Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"room_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_xxxxxxxxxxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"recording"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"initiator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_dial_incoming"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:01:11.448Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"room_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_xxxxxxxxxxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"recording"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"initiator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_dial_timeout"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:32:32.465Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"room_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_xxxxxxxxxxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"recording"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"initiator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_room_ended"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-11T11:06:22.649Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"room_alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room_xxxxxxxxxxx"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"recording"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"usr_aaaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"usr_bbbbbbbbbbbb"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nt">"initiator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usr_aaaaaaaaaaa"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"call_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"audio_video"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint is used to retrieve the activities carried out in Bandyer SDK integration project.
It returns a list of activities that can be filtered thanks to <strong>filter</strong> query param.
The response, as you can see in sample response, will be an array of activity JSON object.</p>

<p>This endpoint is used to retrieve the activities carried out into the Bandyer SDK integration project.
It returns a list of activities that can be filtered thanks to the filter query parameter.
As you can see in sample response, it will be an array of activity JSON object.</p>

<p><strong>Note:</strong> All date&rsquo;s fields follow the ISO8601 standard.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://sandbox.bandyer.com/rest/activity</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter[limit]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The limit number of array elements as response.</td>
</tr>
<tr>
<td>filter[skip]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The number of skipped elements.</td>
</tr>
<tr>
<td>filter[date_from]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The activities date from</td>
</tr>
<tr>
<td>filter[date_to]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The activities date to</td>
</tr>
<tr>
<td>filter[user_alias]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The activities of the user alias specified</td>
</tr>
<tr>
<td>filter[room_alias]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The activities of the room alias specified</td>
</tr>
<tr>
<td>filter[activity_type]</td>
<td style="text-align: center">no</td>
<td style="text-align: center">0</td>
<td>The activities with type specified (look in the section below)</td>
</tr>
</tbody></table>

<h3 id="available-activities">Available Activities</h3>

<table><thead>
<tr>
<th>Activity Type</th>
<th>Activity Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_connection</td>
<td>When a user is connected to SDK server</td>
</tr>
<tr>
<td>user_disconnection</td>
<td>When a user is disconnected from SDK server</td>
</tr>
<tr>
<td>user_start_call</td>
<td>When a user is started a call</td>
</tr>
<tr>
<td>user_dial_incoming</td>
<td>When a user is received a dial incoming event</td>
</tr>
<tr>
<td>user_dial_timeout</td>
<td>When the max dialing timeout is fired from the server</td>
</tr>
<tr>
<td>user_answer</td>
<td>When the user is answered an incoming call</td>
</tr>
<tr>
<td>user_hangup</td>
<td>When the user is declined an incoming call</td>
</tr>
<tr>
<td>user_call_in</td>
<td>When the user is joined a call after an answer action</td>
</tr>
<tr>
<td>user_call_out</td>
<td>When the user left a call</td>
</tr>
<tr>
<td>user_room_ended</td>
<td>When the room call is ended</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Bandyer uses conventional HTTP response codes to indicate the success or failure of an API request. In general, codes in the 2xx range indicate success, codes in the 4xx range indicate an error that failed given the information provided (e.g., a required parameter was omitted, a charge failed, etc.), and codes in the 5xx range indicate an error with Bandyer&rsquo;s servers (these are rare).</p>

<table><thead>
<tr>
<th style="text-align: center">Status</th>
<th>Messagge</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">400</td>
<td>Invalid Api Key</td>
<td>The specified Api Key is not valid.</td>
</tr>
<tr>
<td style="text-align: center">400</td>
<td>Invalid request error</td>
<td>The request is malformed.</td>
</tr>
<tr>
<td style="text-align: center">422</td>
<td>Validation error</td>
<td>The request has invalid parameters.</td>
</tr>
<tr>
<td style="text-align: center">500</td>
<td>General error</td>
<td>Generic error.</td>
</tr>
</tbody></table>

          <h1 id="fast-call-deprecated">Fast Call (@Deprecated)</h1>

<p>This is the fastest way to make calls, a single REST is enough for each user who will be on the call.</p>

<p><strong>Note:</strong> With this type of call, you cannot specify a maximum call duration and you cannot listen to related webhooks.</p>

<p><strong>Note:</strong> These REST calls will generate links for users, to check the status of a generated link or to block the access,
see the <a href="#token">Token</a> section.</p>

<p><strong>IMPORTANT</strong> This endpoint will be deprecated very soon. Please refer to Room - Create.</p>

<h2 id="init-a-one-to-one">Init a One To One</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/call/:caller"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
       "callee" : "callee_id",
       "record" : "0"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"https://xxx.bandyer.com/connect/rest-call-handler/e09cada3684beb2b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To start a videocall, the user needs to be redirect in a specific Bandyer page.
In the request the user must specify the id of the user to call.</p>

<p>He could also choose whether to record or not the videocall session.</p>

<p>The response returns the url in which the user must be redirected.
The user called (<strong>callee</strong>) must make the same specular request.</p>

<p><strong>Note:</strong> Within the sandbox server, calls won&rsquo;t be registered even if indicated in the REST parameters.
If you would like to try the recording option in sandbox, please contact us at  <a href="mailto:support@bandyer.com">support</a>.</p>

<p>E.G. : User with id <strong>usr_example_1</strong> call user with id <strong>usr_example_2</strong>.</p>

<p>The usr_example_1 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_1?callee=usr_example_2&amp;record=0</code>);</p>

<p>The usr_example_2 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_2?callee=usr_example_1&amp;record=0</code>);</p>

<p>With the url given by the request they will be able to start the videocall.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/call/:caller</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>caller</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user who makes the call.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>callee</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user to call.</td>
</tr>
<tr>
<td>record</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>1 if the user wants to record the videocall, 0 otherwise.</td>
</tr>
</tbody></table>

<h2 id="init-a-conference">Init a Conference</h2>

<blockquote>
<p>Example Request (change COMPANY_APIKEY with a valid API key):</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://sandbox.bandyer.com/rest/call/:caller"</span> <span class="se">\</span>
     -H <span class="s2">"apikey: COMPANY_APIKEY"</span> <span class="se">\</span>
     -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -d <span class="s1">'{
       "callee" : "callee_id",
       "record" : "X"
     }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"https://xxx.bandyer.com/connect/rest-call-handler/e09casda3684beb2b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To start a conference, the users need to be redirect in a specific Bandyer page.</p>

<p>In the request the user must specify the id of the users to call. The users&rsquo; id list must be comma separated.
The order of the users&rsquo; id in not relevant.</p>

<p>The user could also choose whether to record or not the conference session.
The response returns the url in which the users must be redirected.
The other users must make the specular request.</p>

<p><strong>Note:</strong> Within the sandbox server, calls won&rsquo;t be registered even if indicated in the REST parameters.
If you would like to try the recording option in sandbox, please contact us at <a href="mailto:support@bandyer.com">support</a>.</p>

<p>E.G. : Conference between <strong>usr_example_1</strong> call, id <strong>usr_example_2</strong>, <strong>usr_example_3</strong>, <strong>usr_example_4</strong>.</p>

<p>The usr_example_1 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_1?callee=usr_example_2,usr_example_3,usr_example_4&amp;record=0</code>);</p>

<p>The usr_example_2 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_2?callee=usr_example_1,usr_example_3,usr_example_4&amp;record=0</code>);</p>

<p>The usr_example_3 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_3?callee=usr_example_1,usr_example_2,usr_example_4&amp;record=0</code>);</p>

<p>The usr_example_4 makes the request (<code class="prettyprint">https://sandbox.bandyer.com/rest/call/usr_example_4?callee=usr_example_1,usr_example_2,usr_example_3&amp;record=0</code>);</p>

<p>With the url given by the request they will be able to start the videocall.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://sandbox.bandyer.com/rest/call/:caller</code></p>

<h3 id="header-parameters">Header Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>Every request must have the API Key.</td>
</tr>
</tbody></table>

<h3 id="url-parameters">Url Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>caller</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>The id of the user who makes the call.</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>callee</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>An array of the users&rsquo; id to call.</td>
</tr>
<tr>
<td>record</td>
<td style="text-align: center">no</td>
<td style="text-align: center">String</td>
<td style="text-align: center">&ldquo;&rdquo;</td>
<td>1 if the user wants to record the videocall, 0 otherwise.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript">NodeJS</a>
          </div>
      </div>
    </div>
  </body>
</html>
